# Заметки о TypeScript

[Официальный сайт](https://www.typescriptlang.org/) языка программирования TypeScript.

[Дорожная карта](https://github.com/Microsoft/TypeScript/wiki/Roadmap) развития TypeScript.

[Предложения по развитию](https://github.com/tc39/proposals) новых возможностей ECMAScript. В TypeScript предложения по развитию ECMAScript появляются на несколько лет раньше, чем в стандарте JavaScript.

Компилятор TypeScript называется **tsc**.

Вот, что уже есть в TypeScript:

- типы
- интерфейсы
- декораторы
- переменные членов классов (поля)
- обобщённые типы
- перечисления
- ключевые слова: public, protected, private
- async/await

Online-среда для проверки кода, называется REPL (Real-Evaluate-Print-Loop) и доступна на [официальной сайте языка](https://www.typescriptlang.org/play/).

## Установка и конфигурирование компилятора (транспайлера)

Для настройки компилятора используется файл "tsconfig.json", в котором могут насходится следущие настройки:

```json
{
    "compilerOptions": {
        "noEmitOnError": true,
        "target": "es5",
        "watch": true
    }
}
```

Сгенерировать файл настроек можно командой: `tsc --init`

Параметр "noEmitOnError" установленный в значение true, означает, что компилятор не должен генерировать JavaScript-файл в случае, если есть какие-то ошибки в коде. По умолчанию, даже не смотря на наличие ошибок, компилятор может генерировать JavaScript-код, который является существенно менее строгим, чем TypeScript.

Параметр "target" позволяет выбрать целевую версию JavaScript при генерации JavaScript-кода. В приведённом выше примере, будет генерироваться ECMAScript 5.

Параметр "watch", в значении true, означает, что компилятор не должен завершаться и будет контролировать изменение файлов, чтобы выполнить компиляцию автоматически (developer mode).

## Базовые аннотации типов

Пример аннотации:

```ts
let firstName: string;
```

Примитивные типы:

- string
- boolean
- number
- symbol - уникальное значение, создаваемое вызовом конструктора Symbol
- any - переменная способна содержать значения разных типов
- unknown - нельзя выполнять никаких действий до определение конкретного типа
- never - для представления новозможного кода
- void - отсутствие значение

Примитивный тип symbol появился в ECMAScript 2015. Этот тип всегда уникален и неизменен. Пример определения:

```ts
const sym1 = Symbol("orderID");
const sym2 = Symbol("orderID");
```

Следует обратить внимание, что отсутствует ключевое слово new. В скобках указывается описание переменной ("orderID"). Обычно тип используется для создания уникальных ключей свойств объектов.

Также TypeScript имеет два специальных значения: undefined и null. null - намеренное отсутствие значения, а undefined - переменная, которой не было присвоено значение (не проинициализированная).

Переменная может иметь несколько типов - они указываются через символ "pipe":

```ts
function getName(): string | null {
    // ...
}
```

## Лучшие Plug-Ins для Visual Studio Code

- ESLint
- Prettier
- Path Intellisense

Отличный onlne-редактор кода: [StackBlitz](https://stackblitz.com/)

## Портирование TypeScript с Node.js на Go

Чтобы избежать необходимости в сложных настройках окружения разработчика, на ранних стадиях жизненного цикла TypeScript, Microsoft использовался npm для установки компилятора TypeScript. Это означает, что TypeScript сам написан на JavaScript. Установка компилятора выглядела таким образом:

```shell
npm install -g typescript
tsc --version
```

Однако за прошедшие года TypeScript стал популярным языком программирования, на нём появилось много приложений и скорости компиляции стало не хватать для промышленных приложений. С целью устранить эту проблему, Microsoft переписывает компилятор TypeScript на Go (выпуск в 2025 году), что даст кратный рост производительности (до порядка).

## Что нравится в экспериментальном проекте

После добавления типизации, гораздо лучше стал работать IntelliSence и появилась возможность перейти на определение метода/функции по кнопке F12. Благодаря подробным комментариям, исследовать библиотеки гораздо проще, чем раньше.